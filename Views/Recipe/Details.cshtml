@using System.Security.Claims
@model YemekTarifiWeb.Models.Recipe

@{
    ViewData["Title"] = Model.Title;
}

<div class="container mt-5 text-center">
    <h2 class="mb-4">@Model.Title</h2>

    @if (!string.IsNullOrEmpty(Model.ImagePath))
    {
        <img src="@Model.ImagePath" alt="Recipe Image" class="img-fluid rounded shadow mb-4" style="max-height: 400px; object-fit: cover;" />
    }
</div>

<div class="container d-flex justify-content-center mb-4">
    <div class="p-4 bg-light rounded shadow w-100" style="max-width: 700px;">
        <h4>ğŸ½ï¸ Ingredients</h4>
        <p>@Model.Ingredients</p>
    </div>
</div>

<div class="container d-flex justify-content-center mb-5">
    <div class="p-4 bg-light rounded shadow w-100" style="max-width: 700px;">
        <h4>ğŸ‘¨â€ğŸ³ Instructions</h4>
        <p>@Model.Instructions</p>
    </div>
</div>

<div class="container d-flex justify-content-between align-items-center mb-3" style="max-width: 700px;">
    <a asp-action="Index" class="btn btn-secondary">â† Back to Recipe List</a>

    @if (User.Identity?.IsAuthenticated == true && Model.UserId == User.FindFirstValue(ClaimTypes.NameIdentifier))
    {
        <div>
            <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-warning me-2">âœï¸ Edit</a>
            <form asp-action="Delete" asp-route-id="@Model.Id" method="post" class="d-inline" onsubmit="return confirm('Are you sure you want to delete this recipe?');">
                <button type="submit" class="btn btn-danger">ğŸ—‘ï¸ Delete</button>
            </form>
        </div>
    }
</div>

@if (!string.IsNullOrEmpty(Model.User?.UserName))
{
    <div class="container text-center mb-5" style="max-width: 700px;">
        <span class="text-muted">Shared by: <strong>@Model.User.UserName</strong></span>
    </div>
}
